<!DOCTYPE html>
<html>
<head>
   <title>Terminal</title>
   <style>
   body {background-color: #000;}
      #terminal {
         font-family: monospace;
	 text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
         background: transparent;
         color: #0f0;
         padding: 20px;
      }
      #input {
         margin-top: 20px;
         font-family: monospace;
         display: none; /* Hide input initially */
      }
      #prompt {
         font-family: monospace;
         font-weight: bold;
      }
      #cmd {
         background: transparent;
         text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
         border: none;
         color: #0f0;
         outline: none;
         font-family: monospace;
      }
      .loading-icon {
         float: right;
      }
      .output-text {
        white-space: pre;
      }
body.tower-bg {
    background-image: url('https://upnormalis.neocities.org/OG_bg_secret.png');
    background-repeat: repeat;
    animation: none; /* You have no idea how fucking long this took */
}
   </style>
</head>
   <body>
<audio id="bootup-audio" src="http://robloxarchive.github.io/terminal/BIOS_bootup.wav" preload="auto"></audio>
<audio id="background-music" loop>
    <source src="http://unapersonanormal.github.io/neocities/Secret_song.mp3" type="audio/mpeg">
</audio>
      <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
         <div id="terminal">
            <div id="output"></div>
            <div id="input">
               <span id="prompt">> </span>
               <input type="text" id="cmd">
            </div>
         </div>
      <script>

         $(document).ready(function() {
			var prevCommandPizza = false;
var towerActivated = false;	
var bgPositionX = 0;
var bgPositionY = 0;
var bgAnimationId;
var prevCommandPizza = false;
var audioElement = new Audio("http://unapersonanormal.github.io/neocities/Secret_song.mp3");
function moveBackground() {
    bgPositionX += 1;
    bgPositionY += 1;
    $("body.tower-bg").css("background-position", bgPositionX + "px " + bgPositionY + "px");
    requestAnimationFrame(moveBackground);
}
function stopBackground() {
        cancelAnimationFrame(bgAnimationId);
        $("body.tower-bg").css("background-image", "none");
        $("body").removeClass("tower-bg");
    }
            bootUp();
			$("#cmd").keypress(function(e) {
            if (e.which == 13) {
                var cmd = $("#cmd").val().trim().toLowerCase();
                $("#output").append("<br><div>> " + cmd + "</div><br>");
                switch (cmd) {
                    case "hello":
                        $("#output").append("<div>Hello world</div>");
						prevCommandPizza = false;
                        break;
					case "tower":
                    if (prevCommandPizza) {
                        if ($("body").hasClass("tower-bg")) {
                            $("body").removeClass("tower-bg");
                            audioElement.pause();
                            audioElement.currentTime = 0;
							prevCommandPizza = false;
							$("#output").append("<div>You exit the secret...</div>");
                        } else {
                            $("body").addClass("tower-bg");
                            moveBackground();
                            audioElement.play();
		            audioElement.loop = true;
							prevCommandPizza = false;
							$("#output").append("<div>You have found a secret!</div>");
                        }
                    } else {
                        $("#output").append("<div>Command not recognized. Type 'help' for assistance.</div>");
						prevCommandPizza = false;
                    }
                    break;
                    case "pizza":
                        $("#output").append("<div>Pizza!</div>");
                        var audio = new Audio("http://robloxarchive.github.io/terminal/pizza.mp3");
                        audio.play();
						prevCommandPizza = true;
                        break;
                    case "help":
                        $("#output").append("<div>Available commands:</div>");
                        $("#output").append("<div>- hello: Prints 'Hello world' - ONLY FOR TESTING PURPOSES -</div>");
                        $("#output").append("<div>- pizza: Plays the 'Pizza!' sound effect - ONLY FOR TESTING PURPOSES</div>");
                        $("#output").append("<div>- help: Displays info about the commands</div>");
						prevCommandPizza = false;
                        break;
				case "megaman":
                displayOutput("Fetching Jay Eazy Pictures and Voice Files...");

                setTimeout(function() {
                    fetchAsciiArt("/terminal/ascii1.txt", "Yo Bro Why Are You Doing That ! !\n");
                    var audio = new Audio('http://unapersonanormal.github.io/neocities/SAM1.wav'); 
                    audio.play();
                }, 1000);

                setTimeout(function() {
                    fetchAsciiArt("/terminal/ascii2.txt", "Jay Eazy Ain't Drop Yet Bruh ! !\n");
                    var audio = new Audio('http://unapersonanormal.github.io/neocities/SAM2.wav'); 
                    audio.play();
                }, 3000);

                setTimeout(function() {
                    fetchAsciiArt("/terminal/ascii3.txt", "Don't Worry Mega Man Drops Jan 7th ! !\n");
                    var audio = new Audio('http://unapersonanormal.github.io/neocities/SAM4.wav'); 
                    audio.play();
                }, 5000);

                setTimeout(function() {
                    displayOutput("Listen ! !\n");
                    var audio = new Audio('http://unapersonanormal.github.io/neocities/SAM3.wav'); 
                    audio.play();
                }, 8200);

                setTimeout(function() {
                    fetchAsciiArt("/terminal/ascii4.txt", "I Was Never Book Smart, I'm Money Smart ! !\n");
                    var audio = new Audio('http://unapersonanormal.github.io/neocities/SAM5.wav'); 
                    audio.play();
                }, 9000);

                setTimeout(function() {
                    fetchAsciiArt("/terminal/ascii5.txt", "Makes Me More Intelligent ! !\n");
                }, 11000);

                setTimeout(function() {
                    fetchAsciiArt("/terminal/ascii4.txt", "Call Me Mr. Rock Festival I Got Hella Bands ! !\n");
                }, 13000);

                setTimeout(function() {
                    fetchAsciiArt("/terminal/ascii5.txt", "Shawty Cute And Her Circle Too ! !\n");
                }, 16200);

                setTimeout(function() {
                    fetchAsciiArt("/terminal/ascii4.txt", "Told Her Get A Friend ! !\n");
                }, 18000);

                setTimeout(function() {
                    fetchAsciiArt("/terminal/ascii5.txt", "She Gon' Make Me Slide With my Dog Like I'm Mega Man ! !\n");
                }, 19200);
                    default:
                        $("#output").append("<div> </div>");
						prevCommandPizza = false;
                        break;
                }
		    function fetchAsciiArt(file, caption) {
        $.ajax({
            url: file,
            success: function(data) {
                displayArt(data, caption);
                $("html, body").animate({ scrollTop: $(document).height() }, 0);
            },
            error: function() {
                displayOutput("Error fetching ASCII art from file: " + file);
            }
        });
    }
    function displayArt(art, caption) {
        $("#output").append("<pre>" + art + "</pre>");
        $("#output").append("<div>" + caption + "</div>");
    }
		    		    function displayOutput(output) {
               $("#output").append("<div>" + output + "</div>");
            }
                $("#cmd").val("");
            }
        });
         });
         function bootUp() {
            var messages = [
               "Initializing server boot sequence...",
               "Loading BIOS firmware...",
               "Detecting hardware components...",
               "CPU: [Intel] [Pentium 4], Speed: [1.3] GHz",
               "RAM: [2] GB, Type: [DDR2]",
               "Storage drives detected:",
               "- [Drive 1]: [50] GB [HDD]",
               "- [Drive 2]: [90] GB [HDD]",
               "Network interfaces detected:",
               "- [Interface 1]: [60] Mbps",
               "- [Interface 2]: [60] Mbps",
               "Initializing operating system...",
               "Loading kernel...",
               "Starting network driver...",
			   "Starting storage driver...",
               "Initializing system services...",
               "Starting SSH Services...",
               "Starting HTTP Services...",
			   "Starting Database Services...",
               "System OK. Starting Operating System..."
            ];

            var outputDiv = $("#output");

            var index = 0;
            var interval = setInterval(function() {
               if (index < messages.length) {
                  if (index === 3 || index === 4 || index === 5 || index === 6 || index === 7 || index === 8 || index === 9 || index === 10) {
                     for (var i = 3; i <= 10; i++) {
                        outputDiv.append("<div>" + messages[i] + "</div>");
                     }
                     index = 10;
                  } else {
                     var message = messages[index];
                     var loadingIcon = $("<span class='loading-icon'>⠟</span>");
                     outputDiv.append("<div>" + message + "</div>");
                     if (index !== messages.length - 1) {
                        outputDiv.append(loadingIcon);
                        animateLoadingIcon(loadingIcon);
                     }
                  }
                  index++;
               } else {
                  clearInterval(interval);
                  displayPressSpace();
				      var bootupAudio = new Audio("http://robloxarchive.github.io/terminal/BIOS_bootup.wav");
    bootupAudio.play();
               }
            }, 3000);
            function animateLoadingIcon(icon) {
               var symbols = ["⠟", "⠯", "⠷", "⠾", "⠽", "⠻"];
               var i = 0;
               var animationInterval = setInterval(function() {
                  icon.text(symbols[i % symbols.length]);
                  i++;
               }, 100);

               // ARG MAKER'S NOTE: The bootup tune you hear is by technicality a reference to a trailer posted by OneWhoFinds, but tbh I didn't of it until he pointed it out. When I made the tune I was thinking of the song Leaning Dream by ClascyJitto lmao.
               
			   setTimeout(function() {
                  clearInterval(animationInterval);
                  icon.text("OK");
               }, 3000); 
            }
            function displayPressSpace() {
               outputDiv.append("<div class='output-text'>\n" +
"           		 ▀██▄▄▄\n" +
"                     █▄    ▀██████████▄▄▄\n" +
"                    ▐███     █████████████████▄▄▄▄\n" +
"                    █████     █████████████████████████▄▄▄\n" +
"                   ▐██████▄    ▀███████████████████████████████▄▄▄▄\n" +
"                   ████████▄    ▀█████████████████████████████████████\n" +
"                  ███████████     ████████████████████████████████████\n" +
"                  ████████████     ██████████████████████████████████\n" +
"                 ██████████████▄    ▀████████████████████████████████\n" +
"                ▐███████████████▄     ██████████████████████████████\n" +
"                ██████████████████     ████████████████████████████▌\n" +
"               ▐███████████████████       ▀▀▀▀█████████████████████\n" +
"               ████████████████████▌          ████████████████████▌\n" +
"              █████████████████████          █████████████████████   ＲＯＢＬＯＸ Ｉｎｂｅｔｗｅｅｎ Ｓｏｃｉｅｔｙ\n" +
"             █████████████████████▌         ▐████████████████████                 Terminal N° 427\n" +
"             ████████████████████████▄▄     ▀███████████████████                O.S. Ver. 8.5.12.16\n" +
"            ▐████████████████████████████▄    ▀█████████████████\n" +
"            ███████████████████████████████     ███████████████▌                    <span style='color: #FF0000'>!</span><span style='color: #FFFF00'>BETA VERSION</span><span style='color: #FF0000'>!</span>\n" +
"           ▐████████████████████████████████     ██████████████                <span style='color: #FF0000'>!</span><span style='color: #FFFF00'>SYSTEM MAY BE UNSTABLE</span><span style='color: #FF0000'>!</span>\n" +
"           ██████████████████████████████████▄    ▀███████████▌\n" +
"          ▐███████████████████████████████████▄     ██████████\n" +
"          ▀▀████████████████████████████████████     ████████▌\n" +
"                 ▀▀▀▀████████████████████████████     ▀██████\n" +
"                          ▀▀▀█████████████████████▄    ▀████\n" +
"                                  ▀▀▀▀█████████████▄     ███\n" +
"                                           ▀▀▀███████     █\n" +
"                                                   ▀▀▀\n" + "\n Press Space to begin.</div>");
               $(document).keypress(function(e) {
                  if (e.which == 32) { 
				  
                     $("#input").show();
                     $("#cmd").focus();
                  }
				  $("#cmd").focus();
               });
            }
         }
		 
      </script>
   </body>
</html>
